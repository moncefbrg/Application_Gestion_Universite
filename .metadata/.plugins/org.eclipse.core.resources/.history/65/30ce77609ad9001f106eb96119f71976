package com.example.demo.repositories;

import java.util.List;
import org.springframework.data.jdbc.repository.query.Query;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.repository.query.Param;
import org.springframework.stereotype.Repository;

import com.example.demo.entities.Etudiant;
@Repository
public interface IEtudiant extends JpaRepository<Etudiant, Long>{
	@Query("SELECT e FROM Etudiant e WHERE " +
	           "(:cne IS NULL OR e.cne = :cne) AND " +
	           "(:nom IS NULL OR e.nom = :nom) AND " +
	           "(:prenom IS NULL OR e.prenom = :prenom) AND " +
	           "(:niveau IS NULL OR e.niveau.id = :niveau)")
	    List<Etudiant> searchEtudiant(@Param("cne") String cne, 
	                                  @Param("nom") String nom, 
	                                  @Param("prenom") String prenom, 
	                                  @Param("niveau") Long niveau);
}
